# RemoteGPU 前端需求文档

**版本**: v1.0
**日期**: 2026-02-02
**作者**: RemoteGPU开发团队

---

## 一、项目概述

### 1.1 业务模式

RemoteGPU是一个**企业级GPU资源管理平台**，采用**整机分配模式**：
- 将完整的GPU机器（包括GPU卡）长期分配给企业客户使用
- 客户获得机器的完全控制权，可自由使用
- 平台提供增值服务：任务管理、镜像市场、数据集管理等

### 1.2 用户角色

1. **管理员（Admin）**
   - 管理所有GPU机器资源
   - 管理企业客户账号
   - 分配/回收机器
   - 监控平台运行状态
   - 管理镜像库和数据集

2. **企业客户（Customer）**
   - 使用分配的GPU机器
   - 管理训练/推理任务
   - 使用镜像市场
   - 管理数据集和模型
   - 监控资源使用情况

---

## 二、管理员端需求

### 2.1 核心功能模块

#### 2.1.1 管理后台首页
**功能描述**: 数据概览Dashboard

**页面元素**:
- 统计卡片
  - 总机器数 / 在线机器数 / 离线机器数
  - GPU总数 / 平均使用率
  - 分配率（已分配/总数）
  - 活跃客户数 / 运行任务数
- GPU使用率趋势图（ECharts折线图）
- 最近分配记录列表（最新5条）
- 告警中心（实时告警列表）
- 快捷操作按钮
  - 添加新机器
  - 快速分配
  - 查看监控大屏
  - 添加客户

**数据接口**:
- `GET /api/admin/dashboard/stats` - 获取统计数据
- `GET /api/admin/dashboard/gpu-trend` - 获取GPU使用率趋势
- `GET /api/admin/allocations/recent` - 获取最近分配记录
- `GET /api/admin/alerts/active` - 获取活跃告警

---

#### 2.1.2 机器管理

##### 2.1.2.1 机器列表页
**路由**: `/admin/machines/list`

**功能描述**: 查看和管理所有GPU机器

**页面元素**:
- 筛选区域
  - GPU型号筛选（RTX 5090、RTX 4090等）
  - 地区筛选（北京、重庆、内蒙等）
  - 状态筛选（全部、在线、离线、已分配、未分配）
  - 搜索框（按机器名称搜索）
- 机器列表（表格或卡片视图）
  - 机器名称
  - GPU型号 / 显存 / 数量
  - CPU / 内存 / 磁盘
  - CUDA版本 / 驱动版本
  - 状态（在线/离线）
  - 分配状态（未分配/已分配给XXX客户）
  - SSH登录信息
  - 操作按钮
    - 查看详情
    - 分配给客户
    - 回收
    - 编辑
    - 删除
    - 一键登录

**数据接口**:
- `GET /api/admin/machines` - 获取机器列表（支持筛选、分页）
- `POST /api/admin/machines` - 添加新机器
- `PUT /api/admin/machines/:id` - 更新机器信息
- `DELETE /api/admin/machines/:id` - 删除机器
- `POST /api/admin/machines/:id/allocate` - 分配机器
- `POST /api/admin/machines/:id/reclaim` - 回收机器

##### 2.1.2.2 添加机器页
**路由**: `/admin/machines/add`

**功能描述**: 录入新的GPU机器

**表单字段**:
- 基本信息
  - 机器名称（必填）
  - 所属地区（必填）
  - 机房位置
- GPU配置
  - GPU型号（必填）
  - 显存大小（必填）
  - GPU数量（必填）
  - CUDA版本
  - 驱动版本
- 硬件配置
  - CPU型号和核心数
  - 内存大小（GB）
  - 磁盘大小（GB）
- 网络配置
  - 内网IP
  - SSH域名（自动生成或手动输入）
  - SSH端口
  - 容器域名前缀
- 登录信息
  - SSH用户名
  - SSH密码（自动生成或手动输入）

**数据接口**:
- `POST /api/admin/machines` - 创建机器

##### 2.1.2.3 批量导入页
**路由**: `/admin/machines/import`

**功能描述**: 通过Excel批量导入机器

**页面元素**:
- 下载模板按钮
- 文件上传组件
- 导入预览表格
- 导入结果反馈

**数据接口**:
- `GET /api/admin/machines/import/template` - 下载Excel模板
- `POST /api/admin/machines/import` - 批量导入机器

---

#### 2.1.3 客户管理

##### 2.1.3.1 客户列表页
**路由**: `/admin/customers/list`

**功能描述**: 查看和管理所有企业客户

**页面元素**:
- 筛选区域
  - 状态筛选（全部、活跃、待审核）
  - 搜索框（按客户名称/公司搜索）
- 客户列表（表格）
  - 客户ID
  - 客户姓名
  - 公司名称
  - 联系方式（邮箱/电话）
  - 分配机器数
  - 账号状态（正常/禁用）
  - 注册时间
  - 操作按钮
    - 查看详情
    - 编辑
    - 分配机器
    - 禁用/启用
    - 删除

**数据接口**:
- `GET /api/admin/customers` - 获取客户列表
- `POST /api/admin/customers` - 添加客户
- `PUT /api/admin/customers/:id` - 更新客户信息
- `DELETE /api/admin/customers/:id` - 删除客户
- `POST /api/admin/customers/:id/disable` - 禁用客户
- `POST /api/admin/customers/:id/enable` - 启用客户

##### 2.1.3.2 客户详情页
**路由**: `/admin/customers/:id`

**功能描述**: 查看客户详细信息和使用情况

**页面元素**:
- 客户基本信息
- 分配的机器列表
- 使用统计
  - 总使用时长
  - GPU使用率
  - 运行任务数
- 操作日志
- 快捷操作
  - 分配新机器
  - 发送通知

---

#### 2.1.4 分配管理

##### 2.1.4.1 分配记录页
**路由**: `/admin/allocations`

**功能描述**: 查看所有机器分配记录

**页面元素**:
- 标签页切换
  - 当前分配
  - 历史分配
  - 即将到期
- 分配列表（表格）
  - 分配ID
  - 客户名称
  - 机器名称
  - 分配时间
  - 分配时长
  - 到期时间
  - 状态（使用中/已结束）
  - 操作按钮
    - 查看详情
    - 续期
    - 提前回收

**数据接口**:
- `GET /api/admin/allocations` - 获取分配记录
- `POST /api/admin/allocations/:id/extend` - 续期
- `POST /api/admin/allocations/:id/reclaim` - 提前回收

##### 2.1.4.2 快速分配页
**路由**: `/admin/allocations/quick`

**功能描述**: 快速分配机器给客户

**表单字段**:
- 选择客户（下拉选择）
- 选择机器（支持多选）
- 分配时长（月数）
- 备注信息

**数据接口**:
- `POST /api/admin/allocations` - 创建分配

---

#### 2.1.5 监控中心

##### 2.1.5.1 实时监控页
**路由**: `/admin/monitoring/realtime`

**功能描述**: 实时监控所有机器的运行状态

**页面元素**:
- GPU监控大屏
  - 所有GPU使用率可视化（热力图）
  - 实时刷新（5秒间隔）
- 机器状态列表
  - 机器名称
  - 在线状态
  - GPU使用率
  - CPU使用率
  - 内存使用率
  - 磁盘使用率
  - 温度
  - 功耗
- 筛选和排序
  - 按使用率排序
  - 按地区筛选
  - 只显示告警机器

**数据接口**:
- `GET /api/admin/monitoring/realtime` - 获取实时监控数据
- `WebSocket /ws/admin/monitoring` - 实时数据推送

##### 2.1.5.2 告警管理页
**路由**: `/admin/monitoring/alerts`

**功能描述**: 管理系统告警

**页面元素**:
- 告警列表
  - 告警级别（严重/警告/提示）
  - 告警类型（GPU温度/磁盘空间/离线等）
  - 机器名称
  - 告警内容
  - 发生时间
  - 状态（未处理/已处理）
  - 操作按钮（标记已处理/忽略）
- 告警规则配置
  - GPU温度阈值
  - 磁盘使用率阈值
  - 内存使用率阈值
  - 离线告警

**数据接口**:
- `GET /api/admin/alerts` - 获取告警列表
- `PUT /api/admin/alerts/:id/resolve` - 标记告警已处理
- `GET /api/admin/alerts/rules` - 获取告警规则
- `PUT /api/admin/alerts/rules` - 更新告警规则

---

#### 2.1.6 镜像管理

##### 2.1.6.1 镜像库页
**路由**: `/admin/images/list`

**功能描述**: 管理Docker镜像库

**页面元素**:
- 分类标签
  - 官方镜像
  - 客户镜像
  - 待审核镜像
- 镜像列表（卡片视图）
  - 镜像名称
  - 标签（tag）
  - 框架类型（PyTorch/TensorFlow等）
  - CUDA版本
  - 镜像大小
  - 下载次数
  - 上传时间
  - 状态（已发布/待审核/已下架）
  - 操作按钮
    - 查看详情
    - 编辑
    - 审核通过/拒绝
    - 下架
    - 删除

**数据接口**:
- `GET /api/admin/images` - 获取镜像列表
- `POST /api/admin/images` - 上传新镜像
- `PUT /api/admin/images/:id` - 更新镜像信息
- `DELETE /api/admin/images/:id` - 删除镜像
- `POST /api/admin/images/:id/approve` - 审核通过
- `POST /api/admin/images/:id/reject` - 审核拒绝

##### 2.1.6.2 上传镜像页
**路由**: `/admin/images/upload`

**功能描述**: 上传新的Docker镜像

**表单字段**:
- 镜像信息
  - 镜像名称（必填）
  - 标签（tag）（必填）
  - 框架类型（必填）
  - CUDA版本
  - Python版本
  - 镜像描述
  - 特性列表
- 镜像文件
  - Docker镜像文件上传
  - 或从Docker Registry拉取

**数据接口**:
- `POST /api/admin/images/upload` - 上传镜像

---

#### 2.1.7 数据集管理 ⭐ 新增功能

##### 2.1.7.1 数据集库页
**路由**: `/admin/datasets/list`

**功能描述**: 管理平台数据集库

**页面元素**:
- 分类标签
  - 公共数据集（平台提供）
  - 客户数据集（客户上传）
  - 待审核数据集
- 数据集列表（表格视图）
  - 数据集名称
  - 类型（图像/文本/音频/视频）
  - 大小
  - 文件数量
  - 所属客户（公共数据集显示"平台"）
  - 访问权限（公开/私有）
  - 下载次数
  - 上传时间
  - 操作按钮
    - 查看详情
    - 下载
    - 编辑
    - 删除
    - 设为公开/私有

**数据接口**:
- `GET /api/admin/datasets` - 获取数据集列表
- `POST /api/admin/datasets` - 创建数据集
- `PUT /api/admin/datasets/:id` - 更新数据集信息
- `DELETE /api/admin/datasets/:id` - 删除数据集
- `POST /api/admin/datasets/:id/set-public` - 设为公开
- `POST /api/admin/datasets/:id/set-private` - 设为私有

##### 2.1.7.2 上传数据集页
**路由**: `/admin/datasets/upload`

**功能描述**: 上传公共数据集

**表单字段**:
- 数据集信息
  - 数据集名称（必填）
  - 数据类型（必填）
  - 描述
  - 标签
  - 访问权限（公开/私有）
- 文件上传
  - 支持文件夹上传
  - 支持压缩包上传
  - 显示上传进度

**数据接口**:
- `POST /api/admin/datasets/upload` - 上传数据集

##### 2.1.7.3 存储管理页 ⭐ 新增功能
**路由**: `/admin/storage/overview`

**功能描述**: 管理平台存储资源

**页面元素**:
- 存储概览
  - 总存储容量
  - 已使用容量
  - 可用容量
  - 使用率趋势图
- 存储分布
  - 按客户统计（饼图）
  - 按数据类型统计（数据集/模型/镜像/其他）
  - 按地区统计
- 存储配额管理
  - 客户列表
  - 已用存储
  - 配额限制
  - 操作按钮（调整配额）
- 清理建议
  - 长期未使用的数据
  - 重复数据
  - 临时文件

**数据接口**:
- `GET /api/admin/storage/overview` - 获取存储概览
- `GET /api/admin/storage/distribution` - 获取存储分布
- `GET /api/admin/storage/quotas` - 获取配额列表
- `PUT /api/admin/storage/quotas/:customerId` - 调整客户配额
- `GET /api/admin/storage/cleanup-suggestions` - 获取清理建议

---

#### 2.1.8 任务管理

##### 2.1.8.1 任务列表页
**路由**: `/admin/tasks/list`

**功能描述**: 查看所有客户的任务

**页面元素**:
- 标签页切换
  - 全部任务
  - 运行中
  - 已完成
  - 失败/异常
- 筛选区域
  - 按客户筛选
  - 按机器筛选
  - 按任务类型筛选（训练/推理）
- 任务列表（表格）
  - 任务ID
  - 任务名称
  - 客户名称
  - 机器名称
  - 任务类型
  - 状态（运行中/已完成/失败）
  - 开始时间
  - 运行时长
  - GPU使用率
  - 操作按钮
    - 查看详情
    - 查看日志
    - 停止任务

**数据接口**:
- `GET /api/admin/tasks` - 获取任务列表
- `GET /api/admin/tasks/:id` - 获取任务详情
- `GET /api/admin/tasks/:id/logs` - 获取任务日志
- `POST /api/admin/tasks/:id/stop` - 停止任务

---

#### 2.1.9 数据统计

##### 2.1.9.1 资源统计页
**路由**: `/admin/statistics/resources`

**功能描述**: 资源利用率统计分析

**页面元素**:
- 时间范围选择（今天/本周/本月/自定义）
- GPU利用率趋势图（折线图）
- 机器分配率趋势图
- 地区资源分布（地图或柱状图）
- 资源利用率排行
  - 利用率最高的机器
  - 利用率最低的机器

**数据接口**:
- `GET /api/admin/statistics/resources` - 获取资源统计数据

##### 2.1.9.2 客户统计页
**路由**: `/admin/statistics/customers`

**功能描述**: 客户使用情况统计

**页面元素**:
- 客户增长趋势图
- 活跃客户统计
- 客户使用时长排行
- 客户任务数量排行
- 客户存储使用排行

**数据接口**:
- `GET /api/admin/statistics/customers` - 获取客户统计数据

---

### 2.2 管理员端左边栏导航

```
管理后台首页
├─ 数据概览
├─ 实时监控
└─ 告警中心

机器管理
├─ 机器列表
├─ 添加机器
├─ 批量导入
└─ 维护记录

客户管理
├─ 客户列表
├─ 添加客户
└─ 客户详情

分配管理
├─ 分配记录
├─ 快速分配
└─ 即将到期

监控中心
├─ 实时监控
└─ 告警管理

镜像管理
├─ 镜像库
└─ 上传镜像

数据集管理 ⭐
├─ 数据集库
├─ 上传数据集
└─ 存储管理

任务管理
└─ 任务列表

数据统计
├─ 资源统计
└─ 客户统计

系统设置
├─ 平台配置
├─ 权限管理
└─ 日志管理
```

---

## 三、客户端需求

### 3.1 核心功能模块

#### 3.1.1 工作台首页
**路由**: `/customer/dashboard`

**功能描述**: 客户工作台概览

**页面元素**:
- 统计卡片
  - 我的机器数量
  - 运行中的任务
  - 总存储使用量
  - 本月使用时长
- 机器状态概览（卡片列表）
  - 机器名称
  - GPU使用率
  - 在线状态
  - 快速连接按钮
- 最近任务列表
- 快捷操作
  - 创建新任务
  - 上传数据集
  - 连接Jupyter

**数据接口**:
- `GET /api/customer/dashboard/stats` - 获取统计数据
- `GET /api/customer/machines/summary` - 获取机器概览
- `GET /api/customer/tasks/recent` - 获取最近任务

---

#### 3.1.2 我的机器

##### 3.1.2.1 机器列表页
**路由**: `/customer/machines/list`

**功能描述**: 查看分配给我的所有机器

**页面元素**:
- 机器卡片列表
  - 机器名称
  - 在线状态
  - GPU型号 / 显存 / 数量
  - GPU使用率（进度条）
  - CPU / 内存 / 磁盘
  - CUDA版本
  - 分配时间
  - SSH登录信息（可折叠）
    - SSH主机
    - 端口
    - 用户名
    - 密码
    - 连接命令
  - 操作按钮
    - Web终端
    - Jupyter
    - 复制SSH命令
    - 查看详情

**数据接口**:
- `GET /api/customer/machines` - 获取我的机器列表
- `GET /api/customer/machines/:id` - 获取机器详情

##### 3.1.2.2 机器详情页
**路由**: `/customer/machines/:id`

**功能描述**: 查看机器详细信息和实时监控

**页面元素**:
- 机器基本信息
- 实时监控
  - GPU使用率（实时图表）
  - CPU使用率
  - 内存使用率
  - 磁盘使用率
  - 网络流量
- 运行中的进程列表
- 在此机器上的任务历史
- 快捷操作
  - 启动Jupyter
  - 启动TensorBoard
  - 打开文件管理器

**数据接口**:
- `GET /api/customer/machines/:id/monitoring` - 获取实时监控数据
- `GET /api/customer/machines/:id/processes` - 获取进程列表
- `GET /api/customer/machines/:id/tasks` - 获取任务历史

---

#### 3.1.3 任务管理

##### 3.1.3.1 任务列表页
**路由**: `/customer/tasks/list`

**功能描述**: 管理我的训练和推理任务

**页面元素**:
- 标签页切换
  - 训练任务
  - 推理任务
  - 任务队列
  - 历史记录
- 任务卡片列表
  - 任务名称
  - 任务类型
  - 运行机器
  - 状态（运行中/已完成/失败/排队中）
  - 开始时间
  - 运行时长
  - GPU使用率
  - 进度（如果有）
  - 操作按钮
    - 查看详情
    - 查看日志
    - 停止任务
    - 重新运行
    - 删除

**数据接口**:
- `GET /api/customer/tasks` - 获取任务列表
- `GET /api/customer/tasks/:id` - 获取任务详情
- `GET /api/customer/tasks/:id/logs` - 获取任务日志
- `POST /api/customer/tasks/:id/stop` - 停止任务
- `POST /api/customer/tasks/:id/restart` - 重新运行
- `DELETE /api/customer/tasks/:id` - 删除任务

##### 3.1.3.2 创建训练任务页
**路由**: `/customer/tasks/create-training`

**功能描述**: 创建新的训练任务

**表单字段**:
- 基本信息
  - 任务名称（必填）
  - 选择机器（必填）
  - GPU数量（必填）
- 镜像配置
  - 选择Docker镜像（必填）
  - 或从镜像市场选择
- 任务配置
  - 工作目录
  - 训练脚本路径
  - 启动命令（必填）
  - 环境变量（可添加多个）
- 高级选项
  - 自动重启
  - 完成通知
  - 保存checkpoint间隔

**数据接口**:
- `POST /api/customer/tasks/training` - 创建训练任务
- `GET /api/customer/machines/available` - 获取可用机器
- `GET /api/customer/images` - 获取可用镜像

##### 3.1.3.3 任务详情页
**路由**: `/customer/tasks/:id`

**功能描述**: 查看任务详细信息和实时日志

**页面元素**:
- 任务基本信息
- 实时日志（支持滚动、搜索、下载）
- 资源使用情况
  - GPU使用率曲线
  - 内存使用曲线
- 输出文件列表
- 操作按钮
  - 停止任务
  - 重新运行
  - 下载日志
  - 打开TensorBoard

**数据接口**:
- `GET /api/customer/tasks/:id/details` - 获取任务详情
- `WebSocket /ws/customer/tasks/:id/logs` - 实时日志推送
- `GET /api/customer/tasks/:id/metrics` - 获取资源使用指标
- `GET /api/customer/tasks/:id/outputs` - 获取输出文件列表

---

#### 3.1.4 镜像市场

##### 3.1.4.1 镜像市场页
**路由**: `/customer/images/market`

**功能描述**: 浏览和使用预配置的Docker镜像

**页面元素**:
- 分类筛选
  - 全部
  - PyTorch
  - TensorFlow
  - JAX/Flax
  - 大模型框架
  - 其他
- 镜像卡片列表
  - 镜像图标
  - 镜像名称和标签
  - 官方标识
  - 描述
  - 特性标签（前3个）
  - 元信息（CUDA版本、Python版本、大小、下载量）
  - 操作按钮
    - 部署到机器
    - 查看详情

**数据接口**:
- `GET /api/customer/images/market` - 获取镜像市场列表
- `GET /api/customer/images/:id` - 获取镜像详情
- `POST /api/customer/images/:id/deploy` - 部署镜像到机器

##### 3.1.4.2 我的镜像页
**路由**: `/customer/images/my`

**功能描述**: 管理我的自定义镜像

**页面元素**:
- 镜像列表
  - 镜像名称
  - 标签
  - 大小
  - 创建时间
  - 状态（构建中/可用/失败）
  - 操作按钮
    - 部署
    - 编辑
    - 删除
- 上传镜像按钮

**数据接口**:
- `GET /api/customer/images/my` - 获取我的镜像列表
- `POST /api/customer/images/upload` - 上传镜像
- `DELETE /api/customer/images/:id` - 删除镜像

---

#### 3.1.5 数据集管理 ⭐ 核心功能

##### 3.1.5.1 数据集列表页
**路由**: `/customer/datasets/list`

**功能描述**: 管理我的数据集

**页面元素**:
- 标签页切换
  - 我的数据集
  - 公共数据集（平台提供）
  - 共享给我的
- 数据集卡片列表
  - 数据集名称
  - 数据类型图标（图像/文本/音频/视频）
  - 大小
  - 文件数量
  - 创建时间
  - 访问权限（私有/团队共享）
  - 操作按钮
    - 查看详情
    - 下载
    - 挂载到机器
    - 分享
    - 删除
- 存储使用情况
  - 已用存储 / 总配额
  - 进度条显示

**数据接口**:
- `GET /api/customer/datasets` - 获取数据集列表
- `GET /api/customer/datasets/public` - 获取公共数据集
- `GET /api/customer/datasets/shared` - 获取共享数据集
- `GET /api/customer/storage/quota` - 获取存储配额
- `POST /api/customer/datasets/:id/mount` - 挂载数据集到机器
- `POST /api/customer/datasets/:id/share` - 分享数据集
- `DELETE /api/customer/datasets/:id` - 删除数据集

##### 3.1.5.2 上传数据集页
**路由**: `/customer/datasets/upload`

**功能描述**: 上传新的数据集

**页面元素**:
- 数据集信息表单
  - 数据集名称（必填）
  - 数据类型（图像/文本/音频/视频/其他）
  - 描述
  - 标签（可添加多个）
  - 访问权限（私有/团队共享）
- 上传方式选择
  - 本地上传
    - 支持拖拽上传
    - 支持文件夹上传
    - 支持压缩包上传（自动解压）
  - 从URL导入
  - 从机器路径导入
- 上传进度
  - 文件列表
  - 每个文件的上传进度
  - 总体进度
  - 上传速度
  - 预计剩余时间
- 上传完成后操作
  - 立即挂载到机器
  - 查看数据集详情

**数据接口**:
- `POST /api/customer/datasets/upload` - 上传数据集
- `POST /api/customer/datasets/import-url` - 从URL导入
- `POST /api/customer/datasets/import-machine` - 从机器导入

##### 3.1.5.3 数据集详情页
**路由**: `/customer/datasets/:id`

**功能描述**: 查看数据集详细信息

**页面元素**:
- 数据集基本信息
  - 名称、类型、大小、文件数量
  - 创建时间、最后修改时间
  - 访问权限
- 文件浏览器
  - 树形目录结构
  - 文件列表（支持排序、搜索）
  - 文件预览（图片、文本）
  - 文件操作
    - 下载单个文件
    - 删除文件
    - 重命名
- 挂载信息
  - 已挂载到哪些机器
  - 挂载路径
  - 操作按钮（卸载）
- 使用统计
  - 被哪些任务使用过
  - 使用次数
- 操作按钮
  - 下载整个数据集
  - 挂载到机器
  - 编辑信息
  - 分享
  - 删除

**数据接口**:
- `GET /api/customer/datasets/:id` - 获取数据集详情
- `GET /api/customer/datasets/:id/files` - 获取文件列表
- `GET /api/customer/datasets/:id/preview/:filePath` - 预览文件
- `GET /api/customer/datasets/:id/mounts` - 获取挂载信息
- `POST /api/customer/datasets/:id/mount` - 挂载到机器
- `POST /api/customer/datasets/:id/unmount` - 从机器卸载

##### 3.1.5.4 数据集挂载管理页
**路由**: `/customer/datasets/mounts`

**功能描述**: 管理数据集在各机器上的挂载

**页面元素**:
- 挂载列表（表格）
  - 数据集名称
  - 机器名称
  - 挂载路径
  - 挂载时间
  - 状态（已挂载/挂载中/失败）
  - 操作按钮
    - 查看详情
    - 卸载
- 快速挂载
  - 选择数据集
  - 选择目标机器
  - 指定挂载路径
  - 一键挂载

**数据接口**:
- `GET /api/customer/datasets/mounts` - 获取所有挂载记录
- `POST /api/customer/datasets/mount` - 创建挂载
- `DELETE /api/customer/datasets/mounts/:id` - 删除挂载

---

#### 3.1.6 模型管理

##### 3.1.6.1 模型仓库页
**路由**: `/customer/models/list`

**功能描述**: 管理训练好的模型

**页面元素**:
- 模型列表（卡片视图）
  - 模型名称
  - 模型类型（分类/检测/生成等）
  - 框架（PyTorch/TensorFlow）
  - 大小
  - 版本号
  - 创建时间
  - 操作按钮
    - 查看详情
    - 下载
    - 部署推理
    - 删除
- 版本管理
  - 同一模型的多个版本
  - 版本对比

**数据接口**:
- `GET /api/customer/models` - 获取模型列表
- `GET /api/customer/models/:id` - 获取模型详情
- `GET /api/customer/models/:id/versions` - 获取模型版本列表
- `POST /api/customer/models/:id/deploy` - 部署模型
- `DELETE /api/customer/models/:id` - 删除模型

---

#### 3.1.7 监控与分析

##### 3.1.7.1 实时监控页
**路由**: `/customer/monitoring/realtime`

**功能描述**: 实时监控我的机器资源使用情况

**页面元素**:
- 机器选择下拉框
- GPU监控
  - GPU使用率实时曲线
  - 显存使用情况
  - GPU温度
- 系统监控
  - CPU使用率
  - 内存使用率
  - 磁盘I/O
  - 网络流量
- 进程列表
  - 进程名称
  - PID
  - GPU占用
  - 内存占用

**数据接口**:
- `GET /api/customer/monitoring/:machineId/realtime` - 获取实时监控数据
- `WebSocket /ws/customer/monitoring/:machineId` - 实时数据推送

##### 3.1.7.2 使用统计页
**路由**: `/customer/statistics/usage`

**功能描述**: 查看资源使用统计

**页面元素**:
- 时间范围选择
- 使用时长统计
  - 总使用时长
  - 各机器使用时长
- GPU利用率趋势
- 任务统计
  - 总任务数
  - 成功率
  - 平均运行时长
- 存储使用趋势

**数据接口**:
- `GET /api/customer/statistics/usage` - 获取使用统计数据

---

#### 3.1.8 文件管理

##### 3.1.8.1 文件浏览器页
**路由**: `/customer/files/browser`

**功能描述**: 浏览和管理机器上的文件

**页面元素**:
- 机器选择
- 目录树（左侧）
- 文件列表（右侧）
  - 文件名
  - 大小
  - 修改时间
  - 操作按钮
    - 下载
    - 删除
    - 重命名
    - 移动
- 工具栏
  - 上传文件
  - 新建文件夹
  - 刷新
  - 搜索

**数据接口**:
- `GET /api/customer/files/:machineId/list` - 获取文件列表
- `POST /api/customer/files/:machineId/upload` - 上传文件
- `GET /api/customer/files/:machineId/download` - 下载文件
- `DELETE /api/customer/files/:machineId/delete` - 删除文件

---

#### 3.1.9 开发工具

##### 3.1.9.1 Jupyter管理页
**路由**: `/customer/tools/jupyter`

**功能描述**: 管理Jupyter服务

**页面元素**:
- 机器列表
  - 机器名称
  - Jupyter状态（运行中/已停止）
  - 访问URL
  - 操作按钮
    - 启动Jupyter
    - 停止Jupyter
    - 打开Jupyter
    - 重启

**数据接口**:
- `GET /api/customer/tools/jupyter` - 获取Jupyter状态
- `POST /api/customer/tools/jupyter/:machineId/start` - 启动Jupyter
- `POST /api/customer/tools/jupyter/:machineId/stop` - 停止Jupyter

---

#### 3.1.10 设置

##### 3.1.10.1 个人设置页
**路由**: `/customer/settings/profile`

**功能描述**: 管理个人信息

**页面元素**:
- 基本信息
  - 姓名
  - 邮箱
  - 电话
  - 公司
- 修改密码
- 头像上传

**数据接口**:
- `GET /api/customer/profile` - 获取个人信息
- `PUT /api/customer/profile` - 更新个人信息
- `POST /api/customer/profile/change-password` - 修改密码

##### 3.1.10.2 SSH密钥管理页
**路由**: `/customer/settings/ssh-keys`

**功能描述**: 管理SSH公钥

**页面元素**:
- SSH密钥列表
  - 密钥名称
  - 指纹
  - 添加时间
  - 操作按钮（删除）
- 添加新密钥
  - 密钥名称
  - 公钥内容

**数据接口**:
- `GET /api/customer/ssh-keys` - 获取SSH密钥列表
- `POST /api/customer/ssh-keys` - 添加SSH密钥
- `DELETE /api/customer/ssh-keys/:id` - 删除SSH密钥

---

### 3.2 客户端左边栏导航

```
工作台首页
├─ 数据概览
└─ 快捷操作

我的机器
├─ 机器列表
├─ 快速连接
└─ 连接历史

任务管理
├─ 训练任务
├─ 推理任务
├─ 任务队列
└─ 历史记录

镜像市场
├─ 镜像市场
└─ 我的镜像

数据集管理 ⭐
├─ 数据集列表
├─ 上传数据集
└─ 挂载管理

模型管理
└─ 模型仓库

监控与分析
├─ 实时监控
└─ 使用统计

文件管理
└─ 文件浏览器

开发工具
├─ Jupyter
├─ TensorBoard
└─ Terminal

设置
├─ 个人设置
├─ SSH密钥
└─ 通知设置
```

---

## 四、技术实现方案

### 4.1 技术栈

#### 4.1.1 前端框架
- **Vue 3** - 渐进式JavaScript框架
- **TypeScript** - 类型安全
- **Vite** - 构建工具

#### 4.1.2 UI组件库
- **Element Plus** - 企业级UI组件库
- **ECharts** - 数据可视化图表库
- **Monaco Editor** - 代码编辑器（用于查看日志、编辑配置）

#### 4.1.3 状态管理
- **Pinia** - Vue 3官方推荐的状态管理库

#### 4.1.4 路由管理
- **Vue Router** - 官方路由管理器

#### 4.1.5 HTTP客户端
- **Axios** - HTTP请求库
- **WebSocket** - 实时数据推送

#### 4.1.6 工具库
- **Day.js** - 日期时间处理
- **Lodash** - 工具函数库
- **File-saver** - 文件下载

---

### 4.2 项目结构

```
frontend/
├── src/
│   ├── assets/          # 静态资源
│   ├── components/      # 公共组件
│   │   ├── common/      # 通用组件
│   │   ├── layout/      # 布局组件
│   │   └── charts/      # 图表组件
│   ├── views/           # 页面组件
│   │   ├── admin/       # 管理员页面
│   │   │   ├── Dashboard.vue
│   │   │   ├── machines/
│   │   │   ├── customers/
│   │   │   ├── allocations/
│   │   │   ├── monitoring/
│   │   │   ├── images/
│   │   │   ├── datasets/
│   │   │   └── tasks/
│   │   └── customer/    # 客户页面
│   │       ├── Dashboard.vue
│   │       ├── machines/
│   │       ├── tasks/
│   │       ├── images/
│   │       ├── datasets/
│   │       ├── models/
│   │       └── settings/
│   ├── router/          # 路由配置
│   ├── store/           # 状态管理
│   ├── api/             # API接口
│   ├── utils/           # 工具函数
│   ├── types/           # TypeScript类型定义
│   └── App.vue
├── public/
└── package.json
```

---

### 4.3 核心功能实现

#### 4.3.1 数据集上传
**技术方案**:
- 使用分片上传处理大文件
- 支持断点续传
- 使用Web Worker处理文件哈希计算
- 显示实时上传进度

**实现步骤**:
1. 文件分片（每片5MB）
2. 计算文件MD5（用于秒传和断点续传）
3. 并发上传分片（最多3个并发）
4. 服务端合并分片
5. 更新上传进度

#### 4.3.2 实时监控
**技术方案**:
- 使用WebSocket实现实时数据推送
- 使用ECharts绘制实时曲线图
- 数据缓存和节流，避免频繁渲染

**实现步骤**:
1. 建立WebSocket连接
2. 接收实时监控数据
3. 更新ECharts图表
4. 断线自动重连

#### 4.3.3 任务日志
**技术方案**:
- 使用WebSocket推送实时日志
- 使用虚拟滚动处理大量日志
- 支持日志搜索和过滤

---

### 4.4 性能优化

#### 4.4.1 代码分割
- 路由懒加载
- 组件按需加载
- 第三方库按需引入

#### 4.4.2 缓存策略
- API响应缓存
- 静态资源缓存
- 本地存储用户偏好

#### 4.4.3 列表优化
- 虚拟滚动（大列表）
- 分页加载
- 防抖和节流

---

### 4.5 权限与数据协议

#### 4.5.1 认证与会话
- 统一登录入口 `/login`，对接公司 AD/LDAP（或统一SSO）认证
- 不提供注册入口，仅保留登录与找回密码流程
- 找回密码流程：输入企业邮箱/工号 → 发送验证码 → 设置新密码 → 强制重新登录
- AD/LDAP 不可用时提示系统维护状态，并提供只读公告入口或联系管理员渠道
- 采用 Access Token + Refresh Token，前端自动续期并处理过期登出
- 路由守卫基于权限与登录态拦截，未授权跳转登录

**找回密码页面（如果由平台承接）**:
- **路由**: `/forgot-password`
- **页面元素**:
  - 企业邮箱/工号输入
  - 发送验证码按钮（60秒倒计时）
  - 验证码输入
  - 新密码 / 确认密码（强度提示）
  - 提交重置按钮
- **数据接口**:
  - `POST /api/auth/password-reset/request` - 发送验证码
  - `POST /api/auth/password-reset/confirm` - 提交新密码

**找回密码页面（如果由统一认证承接）**:
- 登录页提供“忘记密码”链接，跳转到企业统一认证找回入口

#### 4.5.2 角色与租户模型
- 租户（Tenant）= 企业客户，所有客户资源需携带 `tenantId`
- 管理员可跨租户查看，客户仅可访问本租户数据
- 客户角色建议区分 `owner` 与 `member`，权限控制数据集分享、任务管理等功能

#### 4.5.3 API响应与分页规范
- 统一响应结构：`{ code, message, data, traceId }`
- 分页请求参数：`page`、`pageSize`、`sortBy`、`order`、`filters`
- 分页响应结构：`{ list, total, page, pageSize }`
- 错误码建议覆盖：`400` 参数错误、`401` 未登录、`403` 无权限、`404` 不存在、`409` 冲突、`500` 服务错误

#### 4.5.4 状态枚举对齐
- 机器状态：`online` / `offline` / `maintenance`
- 分配状态：`allocated` / `unallocated` / `expiring`
- 分配记录：`active` / `expired` / `reclaimed` / `pending`
- 任务状态：`queued` / `running` / `succeeded` / `failed` / `stopped`
- 数据集状态：`uploading` / `processing` / `available` / `failed`
- 镜像状态：`building` / `available` / `failed` / `rejected`
- 告警状态：`active` / `acknowledged` / `resolved`

#### 4.5.5 敏感信息与审计
- SSH 密码默认脱敏展示，仅提供复制与重置能力
- 分配、回收、数据集分享、镜像审核等操作写入审计日志

---

## 五、开发优先级

### 5.1 第一阶段（MVP - 核心功能）

#### 管理员端
1. **管理后台首页** - 数据概览Dashboard
2. **机器管理** - 机器列表、添加机器
3. **客户管理** - 客户列表、添加客户
4. **分配管理** - 快速分配、分配记录

#### 客户端
1. **工作台首页** - 数据概览
2. **我的机器** - 机器列表、快速连接
3. **基础监控** - 查看GPU使用率

**预计时间**: 2-3周

---

### 5.2 第二阶段（增值服务）

#### 管理员端
1. **监控中心** - 实时监控、告警管理
2. **镜像管理** - 镜像库、上传镜像
3. **数据集管理** - 数据集库、存储管理

#### 客户端
1. **任务管理** - 创建训练任务、任务列表
2. **镜像市场** - 浏览镜像、部署镜像
3. **数据集管理** ⭐ - 上传数据集、数据集列表、挂载管理

**预计时间**: 3-4周

---

### 5.3 第三阶段（完善功能）

#### 管理员端
1. **任务管理** - 查看所有任务
2. **数据统计** - 资源统计、客户统计
3. **系统设置** - 平台配置、权限管理

#### 客户端
1. **模型管理** - 模型仓库
2. **文件管理** - 文件浏览器
3. **开发工具** - Jupyter管理、TensorBoard
4. **高级监控** - 实时监控、使用统计

**预计时间**: 2-3周

---

## 六、总结

### 6.1 核心价值

本需求文档定义了RemoteGPU平台的完整前端功能，核心价值包括：

1. **整机分配模式** - 将完整的GPU机器分配给企业客户，客户获得完全控制权
2. **增值服务** - 提供任务管理、镜像市场、数据集管理等增值服务
3. **数据集管理** ⭐ - 重点功能，支持数据集上传、挂载、共享
4. **存储管理** - 完善的存储配额和管理机制
5. **实时监控** - 全面的资源监控和告警系统

### 6.2 技术亮点

1. **分片上传** - 支持大文件上传和断点续传
2. **实时推送** - WebSocket实现实时监控和日志推送
3. **性能优化** - 虚拟滚动、代码分割、缓存策略
4. **用户体验** - 简洁直观的界面设计

### 6.3 后续规划

1. **移动端适配** - 响应式设计，支持移动端访问
2. **国际化** - 支持多语言
3. **高级功能** - 自动化任务调度、智能资源分配
4. **API开放** - 提供完整的API文档，支持第三方集成

---

**文档结束**
