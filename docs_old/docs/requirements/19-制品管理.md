# 制品管理

> 所属模块：模块 11 - 制品管理模块
>
> 功能编号：11.1
>
> 优先级：P2（可选）

---

## 1. 功能概述

### 1.1 功能描述

制品管理功能提供训练产出的模型文件、检查点、日志等制品的统一管理，支持版本控制、下载和共享。

### 1.2 业务价值

- ✅ 统一管理训练产出物
- ✅ 版本控制和追溯
- ✅ 制品共享和权限控制
- ✅ 存储空间优化

---

## 2. 制品类型

| 类型 | 说明 | 存储位置 |
|------|------|---------|
| model | 训练好的模型文件 | 对象存储 |
| checkpoint | 训练检查点 | 对象存储 |
| log | 训练日志 | 对象存储 |
| metrics | 训练指标 | 数据库 |

---

## 3. 数据模型

```sql
CREATE TABLE artifacts (
    id BIGSERIAL PRIMARY KEY,
    customer_id BIGINT NOT NULL,
    job_id BIGINT,
    name VARCHAR(256) NOT NULL,
    artifact_type VARCHAR(32) NOT NULL,
    storage_path VARCHAR(512) NOT NULL,
    size BIGINT,
    version VARCHAR(32),
    created_at TIMESTAMP DEFAULT NOW()
);
```

---

## 4. API 接口

```go
POST /api/artifacts
Body: {
  "name": "resnet50-epoch100.pth",
  "artifact_type": "model",
  "job_id": 123
}

Response: {
  "artifact_id": 1,
  "upload_url": "https://storage.example.com/upload/..."
}
```

---

## 5. 测试用例

| 用例 | 场景 | 预期结果 |
|------|------|---------|
| TC-01 | 上传制品 | 上传成功 |
| TC-02 | 下载制品 | 下载成功 |

---

**文档版本：** v1.0
**创建日期：** 2026-01-26
