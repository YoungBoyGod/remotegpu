# 问题单管理

> 所属模块：模块 12 - 问题单管理模块
>
> 功能编号：12.1
>
> 优先级：P2（可选）

---

## 1. 功能概述

### 1.1 功能描述

问题单管理功能支持用户提交和跟踪系统使用过程中遇到的问题，提供工单系统，方便运维团队处理和响应用户问题。

### 1.2 业务价值

- ✅ 统一的问题反馈渠道
- ✅ 问题跟踪和处理流程
- ✅ 提升用户满意度
- ✅ 问题统计和分析

---

## 2. 问题类型

| 类型 | 说明 | 优先级 |
|------|------|--------|
| bug | 系统缺陷 | 高 |
| feature | 功能请求 | 中 |
| question | 使用咨询 | 低 |
| incident | 故障报告 | 紧急 |

---

## 3. 数据模型

```sql
CREATE TABLE issues (
    id BIGSERIAL PRIMARY KEY,
    customer_id BIGINT NOT NULL,
    title VARCHAR(256) NOT NULL,
    description TEXT,
    issue_type VARCHAR(32) NOT NULL,
    priority VARCHAR(16) DEFAULT 'medium',
    status VARCHAR(32) DEFAULT 'open',
    created_at TIMESTAMP DEFAULT NOW()
);
```

---

## 4. API 接口

```go
POST /api/issues
Body: {
  "title": "环境无法启动",
  "description": "创建环境后一直处于 pending 状态",
  "issue_type": "bug",
  "priority": "high"
}
```

---

## 5. 测试用例

| 用例 | 场景 | 预期结果 |
|------|------|---------|
| TC-01 | 创建问题单 | 创建成功 |
| TC-02 | 更新问题状态 | 状态更新成功 |

---

**文档版本：** v1.0
**创建日期：** 2026-01-26
