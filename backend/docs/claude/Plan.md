# RemoteGPU 项目计划书

**维护者**: Claude
**创建日期**: 2026-02-05
**最后更新**: 2026-02-05

---

## 项目概述

RemoteGPU 是一个 GPU 云平台后端服务，提供机器分配、任务管理、远程访问等功能。

---

## 开发阶段规划

### 第一阶段：核心功能完善 (P0)

**目标**: 确保系统核心功能正常运行

| 序号 | 任务 | 状态 | 负责人 | 备注 |
|------|------|------|--------|------|
| 1.1 | Agent 通信协议设计 | 待开发 | - | 定义 gRPC/HTTP API |
| 1.2 | 任务进程管理 | 待开发 | - | 依赖 Agent |
| 1.3 | SSH 密钥重置 | 待开发 | - | 依赖 Agent |
| 1.4 | 机器回收清理 | 待开发 | - | 依赖 Agent |

---

### 第二阶段：性能优化 (P1)

**目标**: 提升系统性能和用户体验

| 序号 | 任务 | 状态 | 负责人 | 备注 |
|------|------|------|--------|------|
| 2.1 | Redis 缓存接入 | 待开发 | - | 监控数据缓存 |
| 2.2 | GPU 利用率监控 | 待开发 | - | 需部署 Prometheus |
| 2.3 | Harbor 镜像同步 | 待开发 | - | 需 Harbor 凭证 |

---

### 第三阶段：功能扩展 (P2)

**目标**: 扩展平台功能

| 序号 | 任务 | 状态 | 负责人 | 备注 |
|------|------|------|--------|------|
| 3.1 | VNC 远程桌面 | 待开发 | - | noVNC 集成 |
| 3.2 | RDP 远程桌面 | 待开发 | - | xrdp 配置 |
| 3.3 | Guacamole 网关 | 待开发 | - | 统一远程访问 |
| 3.4 | DNS 管理 | 待开发 | - | 多云厂商支持 |
| 3.5 | 防火墙管理 | 待开发 | - | iptables/云安全组 |
| 3.6 | Docker 容器管理 | 待开发 | - | GPU 容器支持 |

---

### 第四阶段：优化完善 (P3)

**目标**: 代码质量和细节优化

| 序号 | 任务 | 状态 | 负责人 | 备注 |
|------|------|------|--------|------|
| 4.1 | IP 唯一性校验 | 待开发 | - | 简单功能 |
| 4.2 | 单元测试补充 | 待开发 | - | 提高覆盖率 |
| 4.3 | API 文档完善 | 待开发 | - | Swagger 注释 |

---

## 已完成任务

| 日期 | 任务 | 完成人 |
|------|------|--------|
| 2026-02-04 | 按用户过滤机器列表 | Claude |
| 2026-02-04 | 任务创建/停止绑定用户 | Claude |
| 2026-02-04 | 数据集隔离与挂载权限 | Claude |
| 2026-02-04 | 监控快照接入真实数据 | Claude |
| 2026-02-04 | 告警列表分页筛选 | Claude |
| 2026-02-04 | ReclaimMachine bug修复 | Claude |
| 2026-02-04 | 数据集挂载机器验证 | CodeX |

---

## 依赖关系图

```
Agent 通信 (P0)
    ├── 任务进程管理
    ├── SSH 密钥重置
    └── 机器回收清理

监控系统 (P1)
    ├── Redis 缓存
    └── GPU 监控 ← Prometheus

远程访问 (P2)
    ├── VNC
    ├── RDP
    └── Guacamole (可整合 VNC/RDP)

网络服务 (P2)
    ├── DNS 管理
    └── 防火墙管理
```

---

## 风险与注意事项

1. **Agent 服务**: 核心依赖，需优先设计和实现
2. **安全性**: SSH/防火墙操作需谨慎，避免安全漏洞
3. **多云适配**: DNS/防火墙需考虑多云厂商差异
4. **GPU 支持**: 容器需要 nvidia-container-toolkit

---

## 更新日志

| 日期 | 更新内容 |
|------|----------|
| 2026-02-05 | 初始化项目计划书 |
