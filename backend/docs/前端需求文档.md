# RemoteGPU 前端需求文档

## 📋 文档信息

**项目名称**: RemoteGPU 前端应用
**文档版本**: v1.0
**创建日期**: 2026-01-30
**目标用户**: 需要远程GPU资源的开发者和企业用户

---

## 🎯 系统概述

RemoteGPU 是一个远程GPU资源管理平台，允许用户创建和管理基于容器的开发环境，并分配GPU资源。前端应用需要提供直观的界面来管理工作空间、资源配额、主机、GPU和开发环境。

### 核心功能模块

1. **用户认证与管理** - 用户注册、登录、个人信息管理
2. **工作空间管理** - 创建和管理团队工作空间
3. **资源配额管理** - 查看和管理资源配额
4. **主机与GPU管理** - 查看可用主机和GPU资源
5. **环境管理** - 创建、启动、停止、删除开发环境

---

## 👥 用户角色

### 1. 普通用户 (Customer)
- 创建和管理个人工作空间
- 创建和管理开发环境
- 查看资源使用情况

### 2. 工作空间管理员
- 管理工作空间成员
- 分配工作空间资源配额
- 查看工作空间资源使用统计

### 3. 系统管理员
- 管理所有用户和工作空间
- 管理主机和GPU资源
- 配置系统级资源配额

---

## 🎨 页面结构

```
RemoteGPU 前端应用
│
├── 登录/注册页面
│   ├── 登录表单
│   └── 注册表单
│
├── 主控制台 (Dashboard)
│   ├── 资源使用概览
│   ├── 快速操作面板
│   └── 最近活动
│
├── 工作空间管理
│   ├── 工作空间列表
│   ├── 创建工作空间
│   ├── 工作空间详情
│   └── 成员管理
│
├── 资源配额管理
│   ├── 配额概览
│   └── 配额详情
│
├── 环境管理
│   ├── 环境列表
│   ├── 创建环境
│   ├── 环境详情
│   └── 环境控制台
│
└── 系统管理 (管理员)
    ├── 主机管理
    ├── GPU管理
    └── 用户管理
```

---

## 📄 详细页面规格

### 1. 用户认证模块

#### 1.1 登录页面

**页面路径**: `/login`

**表单字段**:

| 字段名 | 类型 | 必填 | 验证规则 | 说明 |
|--------|------|------|----------|------|
| username | text | ✅ | 3-64字符，字母数字下划线 | 用户名或邮箱 |
| password | password | ✅ | 最少8字符 | 密码 |
| remember_me | checkbox | ❌ | - | 记住登录状态 |

**API接口**: `POST /api/v1/auth/login`

**UI布局**:
```
┌─────────────────────────────────────┐
│                                     │
│         RemoteGPU Logo              │
│                                     │
│  ┌───────────────────────────────┐ │
│  │ 用户名或邮箱                   │ │
│  └───────────────────────────────┘ │
│                                     │
│  ┌───────────────────────────────┐ │
│  │ 密码                          │ │
│  └───────────────────────────────┘ │
│                                     │
│  ☐ 记住我    [忘记密码?]           │
│                                     │
│  ┌───────────────────────────────┐ │
│  │        登 录                  │ │
│  └───────────────────────────────┘ │
│                                     │
│  还没有账号? [立即注册]             │
│                                     │
└─────────────────────────────────────┘
```

#### 1.2 注册页面

**页面路径**: `/register`

**表单字段**:

| 字段名 | 类型 | 必填 | 验证规则 | 说明 |
|--------|------|------|----------|------|
| username | text | ✅ | 3-64字符，字母数字下划线，唯一 | 用户名 |
| email | email | ✅ | 有效邮箱格式，唯一 | 邮箱地址 |
| password | password | ✅ | 最少8字符，包含大小写字母和数字 | 密码 |
| confirm_password | password | ✅ | 与password一致 | 确认密码 |
| display_name | text | ❌ | 最多128字符 | 显示名称 |
| phone | tel | ❌ | 有效手机号格式 | 手机号码 |
| company | text | ❌ | 最多256字符 | 公司名称 |
| agree_terms | checkbox | ✅ | 必须勾选 | 同意服务条款 |

**API接口**: `POST /api/v1/auth/register`

---

### 2. 工作空间管理模块

#### 2.1 工作空间列表页面

**页面路径**: `/workspaces`

**页面功能**:
- 显示用户所属的所有工作空间
- 支持搜索和筛选
- 显示工作空间基本信息和资源使用情况

**列表字段**:

| 字段 | 说明 |
|------|------|
| 名称 | 工作空间名称 |
| 描述 | 工作空间描述 |
| 成员数 | 工作空间成员数量 |
| 资源使用 | CPU/内存/GPU使用情况 |
| 创建时间 | 工作空间创建时间 |
| 操作 | 查看详情、编辑、删除 |

**API接口**: `GET /api/v1/workspaces`

**UI布局**:
```
┌────────────────────────────────────────────────────────┐
│ 工作空间管理                    [+ 创建工作空间]        │
├────────────────────────────────────────────────────────┤
│ 🔍 搜索工作空间...                                     │
├────────────────────────────────────────────────────────┤
│                                                        │
│ ┌──────────────────────────────────────────────────┐ │
│ │ 📁 我的开发空间                                   │ │
│ │ 用于个人开发项目                                  │ │
│ │ 👥 3人  💻 CPU: 8/16  💾 内存: 16GB/32GB         │ │
│ │ [查看详情] [编辑] [删除]                          │ │
│ └──────────────────────────────────────────────────┘ │
│                                                        │
│ ┌──────────────────────────────────────────────────┐ │
│ │ 📁 团队项目空间                                   │ │
│ │ AI模型训练项目                                    │ │
│ │ 👥 8人  💻 CPU: 32/64  💾 内存: 128GB/256GB      │ │
│ │ [查看详情] [编辑] [删除]                          │ │
│ └──────────────────────────────────────────────────┘ │
│                                                        │
└────────────────────────────────────────────────────────┘
```

#### 2.2 创建工作空间页面

**页面路径**: `/workspaces/create`

**表单字段**:

| 字段名 | 类型 | 必填 | 验证规则 | 说明 |
|--------|------|------|----------|------|
| name | text | ✅ | 3-128字符 | 工作空间名称 |
| description | textarea | ❌ | 最多512字符 | 工作空间描述 |
| type | select | ✅ | personal/team/enterprise | 工作空间类型 |
| max_members | number | ❌ | 1-100 | 最大成员数（团队/企业类型） |

**API接口**: `POST /api/v1/workspaces`

---

### 3. 环境管理模块（核心功能）

#### 3.1 环境列表页面

**页面路径**: `/environments`

**页面功能**:
- 显示用户的所有开发环境
- 显示环境状态（运行中、已停止、创建中等）
- 支持快速操作（启动、停止、重启、删除）

**列表字段**:

| 字段 | 说明 |
|------|------|
| 名称 | 环境名称 |
| 状态 | running/stopped/creating/error |
| 镜像 | 使用的Docker镜像 |
| 资源配置 | CPU/内存/GPU配置 |
| 运行时间 | 环境运行时长 |
| 操作 | 启动/停止/重启/删除/进入控制台 |

**API接口**:
- `GET /api/v1/environments` - 获取环境列表
- `POST /api/v1/environments/{id}/start` - 启动环境
- `POST /api/v1/environments/{id}/stop` - 停止环境
- `POST /api/v1/environments/{id}/restart` - 重启环境
- `DELETE /api/v1/environments/{id}` - 删除环境

**UI布局**:
```
┌────────────────────────────────────────────────────────┐
│ 我的环境                        [+ 创建新环境]          │
├────────────────────────────────────────────────────────┤
│ 筛选: [全部] [运行中] [已停止]    🔍 搜索...           │
├────────────────────────────────────────────────────────┤
│                                                        │
│ ┌──────────────────────────────────────────────────┐ │
│ │ 🟢 PyTorch开发环境                                │ │
│ │ pytorch/pytorch:2.0-cuda11.8                      │ │
│ │ 💻 4核 💾 8GB 🎮 1×RTX3090  ⏱️ 运行2小时         │ │
│ │ [停止] [重启] [控制台] [删除]                     │ │
│ └──────────────────────────────────────────────────┘ │
│                                                        │
│ ┌──────────────────────────────────────────────────┐ │
│ │ ⚫ TensorFlow训练环境                             │ │
│ │ tensorflow/tensorflow:2.12-gpu                    │ │
│ │ 💻 8核 💾 16GB 🎮 2×A100  ⏱️ 已停止              │ │
│ │ [启动] [删除]                                     │ │
│ └──────────────────────────────────────────────────┘ │
│                                                        │
└────────────────────────────────────────────────────────┘
```

#### 3.2 创建环境页面（重要）

**页面路径**: `/environments/create`

**表单字段**:

| 字段名 | 类型 | 必填 | 验证规则 | 说明 |
|--------|------|------|----------|------|
| name | text | ✅ | 3-128字符 | 环境名称 |
| description | textarea | ❌ | 最多512字符 | 环境描述 |
| workspace_id | select | ❌ | - | 所属工作空间（可选） |
| image | text/select | ✅ | 有效的Docker镜像名 | Docker镜像 |
| cpu | number | ✅ | 1-64 | CPU核心数 |
| memory | number | ✅ | 512-524288 (MB) | 内存大小（MB） |
| gpu | number | ✅ | 0-8 | GPU数量 |
| storage | number | ❌ | 1-1000 (GB) | 存储空间（GB） |
| command | text | ❌ | - | 启动命令（可选） |
| args | text | ❌ | - | 命令参数（可选） |
| env_vars | key-value | ❌ | - | 环境变量（可选） |

**API接口**: `POST /api/v1/environments`

**请求示例**:
```json
{
  "name": "PyTorch开发环境",
  "description": "用于深度学习模型训练",
  "workspace_id": 1,
  "image": "pytorch/pytorch:2.0-cuda11.8",
  "cpu": 4,
  "memory": 8192,
  "gpu": 1,
  "storage": 50,
  "command": ["/bin/bash"],
  "env": {
    "CUDA_VISIBLE_DEVICES": "0"
  }
}
```

**UI布局**:
```
┌────────────────────────────────────────────────────────┐
│ 创建新环境                                              │
├────────────────────────────────────────────────────────┤
│                                                        │
│ 基本信息                                               │
│ ┌──────────────────────────────────────────────────┐ │
│ │ 环境名称 *                                        │ │
│ │ [                                    ]            │ │
│ └──────────────────────────────────────────────────┘ │
│                                                        │
│ ┌──────────────────────────────────────────────────┐ │
│ │ 描述                                              │ │
│ │ [                                    ]            │ │
│ └──────────────────────────────────────────────────┘ │
│                                                        │
│ 镜像配置                                               │
│ ┌──────────────────────────────────────────────────┐ │
│ │ Docker镜像 *                                      │ │
│ │ [pytorch/pytorch:2.0-cuda11.8      ▼]            │ │
│ │ 常用镜像: PyTorch | TensorFlow | CUDA             │ │
│ └──────────────────────────────────────────────────┘ │
│                                                        │
│ 资源配置                                               │
│ ┌──────────────────────────────────────────────────┐ │
│ │ CPU核心数 *    [4    ] 核                        │ │
│ │ 内存大小 *     [8192 ] MB                        │ │
│ │ GPU数量 *      [1    ] 个                        │ │
│ │ 存储空间       [50   ] GB                        │ │
│ │                                                   │ │
│ │ 预估配额消耗: CPU 4核 | 内存 8GB | GPU 1个       │ │
│ │ 剩余配额: CPU 12核 | 内存 24GB | GPU 3个         │ │
│ └──────────────────────────────────────────────────┘ │
│                                                        │
│ 高级配置 (可选) [展开▼]                                │
│                                                        │
│ [取消]                              [创建环境]         │
│                                                        │
└────────────────────────────────────────────────────────┘
```

---

### 4. 资源配额管理模块

#### 4.1 配额概览页面

**页面路径**: `/quotas`

**页面功能**:
- 显示用户/工作空间的资源配额
- 显示资源使用情况和剩余配额
- 可视化展示资源使用率

**显示内容**:

| 资源类型 | 总配额 | 已使用 | 剩余 | 使用率 |
|---------|--------|--------|------|--------|
| CPU核心 | 16核 | 8核 | 8核 | 50% |
| 内存 | 32GB | 16GB | 16GB | 50% |
| GPU | 4个 | 2个 | 2个 | 50% |
| 存储 | 500GB | 200GB | 300GB | 40% |

**API接口**: `GET /api/v1/quotas`

---

### 5. Dashboard（主控制台）

**页面路径**: `/dashboard`

**页面功能**:
- 显示资源使用概览
- 显示运行中的环境
- 快速操作入口
- 最近活动记录

**UI布局**:
```
┌────────────────────────────────────────────────────────┐
│ Dashboard                                              │
├────────────────────────────────────────────────────────┤
│ 资源使用概览                                           │
│ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐ │
│ │ CPU      │ │ 内存     │ │ GPU      │ │ 存储     │ │
│ │ 8/16核   │ │ 16/32GB  │ │ 2/4个    │ │ 200/500GB│ │
│ │ 50%      │ │ 50%      │ │ 50%      │ │ 40%      │ │
│ └──────────┘ └──────────┘ └──────────┘ └──────────┘ │
│                                                        │
│ 快速操作                                               │
│ [+ 创建环境] [查看工作空间] [查看配额]                 │
│                                                        │
│ 运行中的环境 (2)                                       │
│ ┌──────────────────────────────────────────────────┐ │
│ │ 🟢 PyTorch开发环境                                │ │
│ │ 💻 4核 💾 8GB 🎮 1×RTX3090  ⏱️ 2h               │ │
│ └──────────────────────────────────────────────────┘ │
└────────────────────────────────────────────────────────┘
```

---

## 📡 API接口总结

### 认证相关
- `POST /api/v1/auth/login` - 用户登录
- `POST /api/v1/auth/register` - 用户注册
- `POST /api/v1/auth/logout` - 用户登出
- `GET /api/v1/auth/profile` - 获取用户信息

### 工作空间相关
- `GET /api/v1/workspaces` - 获取工作空间列表
- `POST /api/v1/workspaces` - 创建工作空间
- `GET /api/v1/workspaces/{id}` - 获取工作空间详情
- `PUT /api/v1/workspaces/{id}` - 更新工作空间
- `DELETE /api/v1/workspaces/{id}` - 删除工作空间

### 环境相关
- `GET /api/v1/environments` - 获取环境列表
- `POST /api/v1/environments` - 创建环境
- `GET /api/v1/environments/{id}` - 获取环境详情
- `POST /api/v1/environments/{id}/start` - 启动环境
- `POST /api/v1/environments/{id}/stop` - 停止环境
- `POST /api/v1/environments/{id}/restart` - 重启环境
- `DELETE /api/v1/environments/{id}` - 删除环境
- `GET /api/v1/environments/{id}/logs` - 获取环境日志

### 资源配额相关
- `GET /api/v1/quotas` - 获取资源配额
- `GET /api/v1/quotas/usage` - 获取资源使用情况

---

## 🛠️ 技术要求

### 推荐技术栈

**前端框架**:
- React 18+ 或 Vue 3+
- TypeScript（强烈推荐）

**UI组件库**:
- Ant Design / Material-UI / Element Plus
- TailwindCSS（可选）

**状态管理**:
- Redux Toolkit / Zustand / Pinia

**HTTP客户端**:
- Axios / Fetch API

**路由**:
- React Router / Vue Router

**图表库**:
- ECharts / Recharts（用于资源使用可视化）

### 关键功能要求

1. **响应式设计** - 支持桌面和平板设备
2. **实时更新** - 环境状态、资源使用情况需要实时刷新
3. **错误处理** - 友好的错误提示和异常处理
4. **加载状态** - 所有异步操作需要显示加载状态
5. **表单验证** - 客户端和服务端双重验证
6. **权限控制** - 基于角色的访问控制

---

## 📋 开发优先级

### P0 - 核心功能（第一阶段）

1. **用户认证** (3-5天)
   - 登录页面
   - 注册页面
   - 用户信息管理

2. **环境管理** (7-10天)
   - 环境列表页面
   - 创建环境页面
   - 环境控制（启动/停止/删除）
   - 环境详情页面

3. **Dashboard** (3-5天)
   - 资源使用概览
   - 快速操作入口

### P1 - 重要功能（第二阶段）

4. **工作空间管理** (5-7天)
   - 工作空间列表
   - 创建/编辑工作空间
   - 成员管理

5. **资源配额** (3-5天)
   - 配额查看
   - 使用情况统计

### P2 - 增强功能（第三阶段）

6. **环境控制台** (5-7天)
   - Web终端集成
   - 日志查看

7. **系统管理** (5-7天)
   - 主机管理
   - GPU管理
   - 用户管理

---

## 📝 总结

本文档详细描述了 RemoteGPU 前端应用的需求规格，包括：

✅ **5个核心模块**：用户认证、工作空间、环境管理、资源配额、Dashboard
✅ **详细的表单规格**：包含所有字段、验证规则和API接口
✅ **UI布局草图**：ASCII艺术图展示页面布局
✅ **完整的API接口列表**：前后端对接清晰
✅ **技术栈建议**：推荐使用的框架和库
✅ **开发优先级**：分阶段实施计划

**预计开发周期**: 6-8周（2-3人团队）

**关键页面**:
- 创建环境页面（最复杂，需要重点关注）
- Dashboard（用户入口，需要良好的UX）
- 环境列表（高频使用，需要优化性能）

---

**文档完成日期**: 2026-01-30
**版本**: v1.0
