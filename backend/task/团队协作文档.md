# RemoteGPU 团队协作文档

## 文档说明

本文档用于团队成员之间的协作和进度跟踪。所有成员都应该：
1. 每天更新自己的任务进度
2. 完成关键任务后立即通知依赖方
3. 遇到阻塞问题及时在本文档记录

---

## 团队成员和职责

| 成员 | 主要模块 | 预估工时 | 开始时间 | 状态 |
|------|---------|---------|---------|------|
| 员工A | Epic 1 - Feature 1.1 工作空间管理 | 12小时 | 第1周 | 🟢 进行中 |
| 员工B | Epic 1 - Feature 1.2 资源配额管理 | 8小时 | 第1周 | 🟡 等待依赖 |
| 员工C | Epic 2 - Feature 2.1 主机管理 | 16小时 | 第1周 | 🟢 进行中 |
| 员工D | Epic 2 - Feature 2.2 GPU管理 | 20小时 | 第1周 | 🟡 等待依赖 |
| 员工E | Epic 3 - Feature 3.1 环境数据模型 | 12小时 | 第1周 | 🟡 等待依赖 |
| 员工F | 系统整合、Service层、Controller层 | 30小时 | 第1周 | 🟢 进行中 |

**状态说明**:
- 🟢 进行中 - 正在开发
- 🟡 等待依赖 - 等待其他成员完成
- 🔴 阻塞 - 遇到问题需要帮助
- ✅ 已完成 - 任务完成

---

## 任务进度跟踪表

### 员工A - 工作空间管理

| 任务ID | 任务名称 | 状态 | 完成时间 | 备注 |
|--------|---------|------|---------|------|
| 1.1.1.1 | 创建Workspace实体模型 | ⬜ 待开始 | - | - |
| 1.1.1.2 | 创建WorkspaceDao基础结构 | ⬜ 待开始 | - | - |
| 1.1.1.3 | 实现Create方法 | ⬜ 待开始 | - | - |
| 1.1.1.4 | 实现查询方法 | ⬜ 待开始 | - | - |
| 1.1.1.5 | 实现更新删除方法 | ⬜ 待开始 | - | - |
| 1.1.2.1 | 创建WorkspaceMember实体 | ⬜ 待开始 | - | - |
| 1.1.2.2 | 创建WorkspaceMemberDao | ⬜ 待开始 | - | - |

**关键里程碑**:
- [ ] Workspace模型完成 → 通知员工B和员工E

---

### 员工B - 资源配额管理

| 任务ID | 任务名称 | 状态 | 完成时间 | 备注 |
|--------|---------|------|---------|------|
| 1.2.1.1 | 创建ResourceQuota实体模型 | ⬜ 待开始 | - | 可立即开始 |
| 1.2.1.2 | 创建ResourceQuotaDao | ⬜ 待开始 | - | 等待Workspace完成 |
| 1.2.2.1 | 实现CheckQuota方法 | ⬜ 待开始 | - | - |
| 1.2.2.2 | 实现配额统计方法 | ⬜ 待开始 | - | 可先mock Environment |

**依赖关系**:
- ⏳ 等待员工A完成Workspace模型
- ⏳ 等待员工E完成Environment模型（可先mock）

---

### 员工C - 主机管理

| 任务ID | 任务名称 | 状态 | 完成时间 | 备注 |
|--------|---------|------|---------|------|
| 2.1.1.1 | 创建Host实体模型 | ⬜ 待开始 | - | 可立即开始 |
| 2.1.1.2 | 创建HostDao基础方法 | ⬜ 待开始 | - | - |
| 2.1.2.1 | 实现状态查询方法 | ⬜ 待开始 | - | - |
| 2.1.2.2 | 实现资源查询方法 | ⬜ 待开始 | - | - |
| 2.1.3.1 | 实现资源更新方法 | ⬜ 待开始 | - | - |
| 2.1.3.2 | 实现心跳管理 | ⬜ 待开始 | - | - |
| 2.1.4.1 | 编写集成测试 | ⬜ 待开始 | - | - |
| 2.1.4.2 | 编写API文档 | ⬜ 待开始 | - | - |

**关键里程碑**:
- [ ] Host模型完成 → 通知员工D和员工E

---

### 员工D - GPU管理

| 任务ID | 任务名称 | 状态 | 完成时间 | 备注 |
|--------|---------|------|---------|------|
| 2.2.1.1 | 创建GPU实体模型 | ⬜ 待开始 | - | 等待Host完成 |
| 2.2.1.2 | 创建GPUDao基础方法 | ⬜ 待开始 | - | - |
| 2.2.2.1 | 实现基础查询方法 | ⬜ 待开始 | - | - |
| 2.2.2.2 | 实现可用GPU查询 | ⬜ 待开始 | - | - |
| 2.2.3.1 | 实现单GPU分配 | ⬜ 待开始 | - | - |
| 2.2.3.2 | 实现批量分配 | ⬜ 待开始 | - | - |
| 2.2.3.3 | 实现GPU释放 | ⬜ 待开始 | - | - |
| 2.2.4.1 | 编写并发测试 | ⬜ 待开始 | - | - |
| 2.2.4.2 | 性能测试 | ⬜ 待开始 | - | - |

**依赖关系**:
- ⏳ 等待员工C完成Host模型

**关键里程碑**:
- [ ] GPU分配方法完成 → 通知员工E

---

### 员工E - 环境数据模型

| 任务ID | 任务名称 | 状态 | 完成时间 | 备注 |
|--------|---------|------|---------|------|
| 3.1.1.1 | 创建Environment基础模型 | ⬜ 待开始 | - | 等待依赖 |
| 3.1.1.2 | 创建EnvironmentDao | ⬜ 待开始 | - | - |
| 3.1.2.1 | 创建PortMapping实体 | ⬜ 待开始 | - | - |
| 3.1.2.2 | 创建PortMappingDao | ⬜ 待开始 | - | - |
| 3.1.3.1 | 实现用户查询 | ⬜ 待开始 | - | - |
| 3.1.3.2 | 实现状态查询 | ⬜ 待开始 | - | - |

**依赖关系**:
- ⏳ 等待员工A完成Workspace模型
- ⏳ 等待员工C完成Host模型

---

### 员工F - 系统整合与基础环境

| 任务ID | 任务名称 | 状态 | 完成时间 | 备注 |
|--------|---------|------|---------|------|
| F.1.1 | 数据库迁移脚本 | ⬜ 待开始 | - | 可立即开始 |
| F.1.2 | 配置管理优化 | ⬜ 待开始 | - | 可立即开始 |
| F.1.3 | 开发工具配置 | ⬜ 待开始 | - | 可立即开始 |
| F.1.4 | API文档框架 | ⬜ 待开始 | - | 可立即开始 |
| F.2.1 | WorkspaceService | ⬜ 待开始 | - | 等待员工A |
| F.2.2 | ResourceQuotaService | ⬜ 待开始 | - | 等待员工B |
| F.2.3 | HostService | ⬜ 待开始 | - | 等待员工C |
| F.2.4 | GPUService | ⬜ 待开始 | - | 等待员工D |
| F.2.5 | EnvironmentService | ⬜ 待开始 | - | 等待员工E |
| F.3.1 | WorkspaceController | ⬜ 待开始 | - | 等待Service层 |
| F.3.2 | EnvironmentController | ⬜ 待开始 | - | 等待Service层 |
| F.3.4 | 路由配置 | ⬜ 待开始 | - | 等待Controller层 |
| F.4.1 | 集成测试 | ⬜ 待开始 | - | 最后阶段 |

**依赖关系**:
- ⏳ 等待所有员工完成DAO层
- 🟢 基础环境部分可立即开始

**关键里程碑**:
- [ ] 基础环境完成 → 所有员工可使用
- [ ] Service层完成 → 开始Controller层
- [ ] Controller层完成 → 开始集成测试

---

## 协作矩阵

### 依赖关系图

```
员工A (Workspace)
    ↓
    ├─→ 员工B (ResourceQuota) - 需要WorkspaceID外键
    ├─→ 员工E (Environment) - 需要WorkspaceID外键
    └─→ 员工F (Service层) - 需要WorkspaceDao

员工C (Host)
    ↓
    ├─→ 员工D (GPU) - 需要HostID外键
    ├─→ 员工E (Environment) - 需要HostID外键
    └─→ 员工F (Service层) - 需要HostDao

员工D (GPU)
    ↓
    ├─→ 员工E (Environment) - 需要GPU分配方法
    └─→ 员工F (Service层) - 需要GPUDao

员工E (Environment)
    ↓
    ├─→ 员工B (ResourceQuota) - GetUsedResources需要查询Environment
    └─→ 员工F (Service层) - 需要EnvironmentDao

员工B (ResourceQuota)
    ↓
    └─→ 员工F (Service层) - 需要ResourceQuotaDao

员工F (Service/Controller层)
    ↓
    └─→ 所有员工 - 提供基础环境和开发工具
```

### 协作时间表

**第1天**:
- 员工A: 开始Workspace模型开发
- 员工C: 开始Host模型开发
- 员工B: 开始ResourceQuota实体模型（不依赖外键的部分）
- 员工D: 准备GPU模型设计
- 员工E: 准备Environment模型设计

**第2天**:
- 员工A: 完成Workspace模型 → 通知员工B和员工E
- 员工C: 完成Host模型 → 通知员工D和员工E
- 员工B: 开始DAO层开发
- 员工D: 开始GPU模型开发
- 员工E: 开始Environment模型开发

**第3-4天**:
- 所有成员: 完成各自模块的DAO层和测试

---

## 通知机制

### 关键通知点

**员工A必须通知**:
- ✅ Workspace实体模型完成 → 通知员工B、员工E
- ✅ WorkspaceDao基础方法完成 → 通知员工B、员工E

**员工C必须通知**:
- ✅ Host实体模型完成 → 通知员工D、员工E
- ✅ HostDao基础方法完成 → 通知员工D、员工E

**员工D必须通知**:
- ✅ GPU分配方法完成 → 通知员工E

### 通知方式

1. **更新本文档**: 在进度表中标记完成状态
2. **团队群通知**: 在团队群中@相关成员
3. **代码提交**: Git commit message中注明完成的模块

---

## 阻塞问题记录

| 日期 | 成员 | 问题描述 | 影响范围 | 解决方案 | 状态 |
|------|------|---------|---------|---------|------|
| - | - | - | - | - | - |

**使用说明**: 遇到阻塞问题时，立即在此表格中记录，并通知项目经理。

---

## 代码审查安排

### 审查规则
- 每个成员完成一个Story后，需要至少一位其他成员审查
- 审查重点：代码规范、错误处理、测试覆盖率

### 审查分配
- 员工A ↔ 员工B（相互审查）
- 员工C ↔ 员工D（相互审查）
- 员工E：由项目经理审查

---

## 每日站会

### 时间
每天上午10:00，时长15分钟

### 内容
每个成员回答三个问题：
1. 昨天完成了什么？
2. 今天计划做什么？
3. 遇到什么阻碍？

---

## Git协作规范

### 分支策略
- `main` - 主分支，保护分支
- `develop` - 开发分支
- `feature/员工A-workspace` - 员工A的功能分支
- `feature/员工B-quota` - 员工B的功能分支
- `feature/员工C-host` - 员工C的功能分支
- `feature/员工D-gpu` - 员工D的功能分支
- `feature/员工E-environment` - 员工E的功能分支

### 提交规范
```
feat: 实现Workspace模型和DAO
test: 添加Workspace单元测试
fix: 修复Workspace查询bug
docs: 更新Workspace API文档
```

### 合并流程
1. 完成功能开发和测试
2. 提交Pull Request到develop分支
3. 至少一位成员审查通过
4. 合并到develop分支

---

## 联系方式

| 成员 | 角色 | 联系方式 |
|------|------|---------|
| 员工A | 工作空间开发 | - |
| 员工B | 配额管理开发 | - |
| 员工C | 主机管理开发 | - |
| 员工D | GPU管理开发 | - |
| 员工E | 环境管理开发 | - |
| 项目经理 | 项目管理 | - |

---

**文档更新时间**: 2026-01-28
**下次更新**: 每日更新
